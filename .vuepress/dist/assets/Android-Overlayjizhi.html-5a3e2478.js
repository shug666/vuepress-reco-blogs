import{_ as a,o as s,c as n,a as e}from"./app-e8f85126.js";const t={},l=e(`<h2 id="android-overlayæœºåˆ¶" tabindex="-1"><a class="header-anchor" href="#android-overlayæœºåˆ¶" aria-hidden="true">#</a> Android Overlayæœºåˆ¶</h2><p><strong>Android Overlay</strong> æ˜¯ä¸€ç§èµ„æºæ›¿æ¢æœºåˆ¶ï¼Œå®ƒèƒ½åœ¨ä¸é‡æ–°æ‰“åŒ… apk çš„æƒ…å†µä¸‹ï¼Œè¦†ç›–æ›¿æ¢ res/ ä¸‹çš„å­—ç¬¦å’Œå›¾ç‰‡ç­‰èµ„æºã€‚</p><p>åˆ†ä¸º é™æ€Overlay (Static Resource Overlay) å’Œ è¿è¡Œæ—¶ Overlay (Runtime Resource Overlay) ã€‚</p><p>ä¸¤ç§ Overlay æ–¹å¼ï¼Œéƒ½éœ€è¦èµ„æº id å¯¹åº”ä¸Šã€‚å¤§ç™½è¯å°±æ˜¯è¦æ›¿æ¢çš„èµ„æºåç§°ä¸€æ ·ã€å­—ç¬¦ä¸²çš„ id ä¸€æ ·ã€‚</p><p><strong>é™æ€Overlay ï¼ˆSROï¼‰</strong>ï¼šå‘ç”Ÿåœ¨ç¼–è¯‘æ—¶ï¼Œéœ€è¦åœ¨ Aosp æºç ä¸­é…ç½®ã€‚</p><p><strong>è¿è¡Œæ—¶Overlay ï¼ˆRRO</strong>ï¼‰ï¼šå‘ç”Ÿåœ¨è¿è¡Œæ—¶ï¼Œå¯ä»¥ç›´æ¥è¦†ç›–æ›¿æ¢å…¶ä»– apk çš„èµ„æºè€Œä¸éœ€è¦å…¶æºç ã€‚</p><h2 id="é™æ€overlay-sro" tabindex="-1"><a class="header-anchor" href="#é™æ€overlay-sro" aria-hidden="true">#</a> é™æ€Overlay ï¼ˆSROï¼‰</h2><p>å¯ä»¥æ›¿æ¢ string.xml ã€å›¾ç‰‡ã€layoutã€animã€xmlç›®å½•ä¸­çš„ xml æ–‡ä»¶ ã€‚</p><p>å¸¸ç”¨åœºæ™¯ï¼šè¦†ç›–æ›¿æ¢ frameworks/ ã€packages/ ç›®å½•ä¸‹çš„èµ„æºæ–‡ä»¶ã€‚å¦‚æ”¹ç¿»è¯‘è¯æ¡ã€å›¾ç‰‡ã€æ”¹é»˜è®¤å€¼ç­‰ã€‚</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>frameworks/base/core/res/res/drawable-xxxhdpi/
frameworks/base/core/res/res/layout-xxxhdpi/
frameworks/base/core/res/res/values/
frameworks/base/packages/SettingsProvider/res/values/defaults.xml
packages/apps/Bluetooth/res/values/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ğŸ”§-ä¸»è¦æ–‡ä»¶ç»“æ„" tabindex="-1"><a class="header-anchor" href="#ğŸ”§-ä¸»è¦æ–‡ä»¶ç»“æ„" aria-hidden="true">#</a> <strong>ğŸ”§ ä¸»è¦æ–‡ä»¶ç»“æ„ï¼š</strong></h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>vendor/
â””â”€â”€ overlay/
    â”œâ”€â”€ SystemUIOverlay/
    â”‚   â”œâ”€â”€ Android.mk
    â”‚   â”œâ”€â”€ AndroidManifest.xml
    â”‚   â”œâ”€â”€ res/
    â”‚   â”‚   â”œâ”€â”€ values/colors.xml  # ä¿®æ”¹é¢œè‰²
    â”‚   â”‚   â”œâ”€â”€ drawable/ic_lock.png  # ä¿®æ”¹å›¾æ ‡
    â”‚   â”‚   â”œâ”€â”€ layout/status_bar.xml  # ä¿®æ”¹çŠ¶æ€æ å¸ƒå±€
    â”‚   â””â”€â”€ Android.bp
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="androidmanifest-xml" tabindex="-1"><a class="header-anchor" href="#androidmanifest-xml" aria-hidden="true">#</a> <strong>AndroidManifest.xml</strong></h4><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>manifest</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/apk/res/android<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.overlay<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>versionCode</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>versionName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>overlay</span> <span class="token attr-name"><span class="token namespace">android:</span>targetPackage</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.android.systemui<span class="token punctuation">&quot;</span></span>
             <span class="token attr-name"><span class="token namespace">android:</span>priority</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span>
             <span class="token attr-name"><span class="token namespace">android:</span>requiredSystemPropertyName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ro.vendor.overlay<span class="token punctuation">&quot;</span></span>
             <span class="token attr-name"><span class="token namespace">android:</span>requiredSystemPropertyValue</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>manifest</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ğŸ” å…³é”®å‚æ•°ï¼š</strong></p><ul><li><code>android:targetPackage=&quot;com.android.systemui&quot;</code></li><li><ul><li><strong>æŒ‡å®šç›®æ ‡åº”ç”¨</strong>ï¼ˆæ­¤å¤„ä¸º <code>SystemUI</code>ï¼‰ã€‚</li></ul></li><li><code>android:priority=&quot;1&quot;</code></li><li><ul><li><strong>ä¼˜å…ˆçº§</strong>ï¼ˆæ•°å­—è¶Šå¤§ï¼Œä¼˜å…ˆçº§è¶Šé«˜ï¼‰ã€‚</li></ul></li><li><code>android:requiredSystemPropertyName=&quot;ro.vendor.overlay&quot;</code></li><li><ul><li><strong>æ§åˆ¶ Overlay æ˜¯å¦å¯ç”¨</strong>ï¼ˆé€‚ç”¨äºæœºå‹é€‚é…ï¼‰ã€‚</li></ul></li></ul><h3 id="_1-é…ç½®-overlay-ç›®å½•" tabindex="-1"><a class="header-anchor" href="#_1-é…ç½®-overlay-ç›®å½•" aria-hidden="true">#</a> 1.é…ç½® overlay ç›®å½•</h3><p>åœ¨ Aosp æºç ä¸‹ä¸‹æ‰¾åˆ° <code>PRODUCT_PACKAGE_OVERLAYS</code> çš„å®šä¹‰ï¼Œä¸€èˆ¬éƒ½é…ç½®åœ¨ device ç›®å½•ä¸‹ï¼Œå¦‚ device/xxx/yyy/device.mk ï¼Œ</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># overlay</span>
PRODUCT_PACKAGE_OVERLAYS :<span class="token operator">=</span> <span class="token punctuation">\\</span>device/xxx/yyy/overlay
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-æ›¿æ¢èµ„æºæ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#_2-æ›¿æ¢èµ„æºæ–‡ä»¶" aria-hidden="true">#</a> 2.æ›¿æ¢èµ„æºæ–‡ä»¶</h3><p>åœ¨ device/xxx/yyy/overlay ä¸‹æŒ‰ç…§ frameworks ç›®å½•æ–°å»ºå¯¹åº”çš„æ–‡ä»¶å¤¹ï¼Œæ”¾å…¥è¦æ›¿æ¢çš„æ–‡ä»¶å³å¯ã€‚</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>device/xxx/yyy/overlay/frameworks/
device/xxx/yyy/overlay/packages/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-å…¨ç¼–è¯‘éªŒè¯" tabindex="-1"><a class="header-anchor" href="#_3-å…¨ç¼–è¯‘éªŒè¯" aria-hidden="true">#</a> 3.å…¨ç¼–è¯‘éªŒè¯</h3><p>å…¨ç¼–è¯‘éªŒè¯å³å¯ã€‚</p><h2 id="è¿è¡Œæ—¶-overlay-rro" tabindex="-1"><a class="header-anchor" href="#è¿è¡Œæ—¶-overlay-rro" aria-hidden="true">#</a> è¿è¡Œæ—¶ Overlay (RRO)</h2><p>å¯ä»¥æ›¿æ¢ string.xml ã€å›¾ç‰‡ï¼Œä¸èƒ½æ›¿æ¢ layoutã€animã€xml ç›®å½•ä¸­çš„ xml æ–‡ä»¶ ã€‚</p><p>å¸¸ç”¨åœºæ™¯ï¼šè¦†ç›–æ›¿æ¢ç›®æ ‡ apk çš„ç¿»è¯‘è¯æ¡ã€å›¾ç‰‡èµ„æºç­‰ã€‚</p><p>å‡è®¾å½“å‰å·²æœ‰ Test.apk ï¼ŒåŒ…åæ˜¯ com.test ã€‚æˆ‘ä»¬ç”¨ è¿è¡Œæ—¶ Overlay çš„å½¢å¼æ›¿æ¢å®ƒçš„ ç¿»è¯‘è¯æ¡å’Œå›¾ç‰‡ã€‚</p><h3 id="å¸¸ç”¨å‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#å¸¸ç”¨å‘½ä»¤" aria-hidden="true">#</a> å¸¸ç”¨å‘½ä»¤</h3><p>ğŸ”§ <strong>åŠ¨æ€ Overlay ä¹Ÿæ˜¯ä¸€ä¸ª APKï¼Œä½†ä¸éœ€è¦</strong> <code>system</code> <strong>åˆ†åŒºæƒé™</strong>ï¼Œå¯ä»¥ç›´æ¥å®‰è£…ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ adb <span class="token function">install</span> MyDynamicOverlay.apk
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ç„¶å <strong>å¯ç”¨</strong>ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ cmd overlay <span class="token builtin class-name">enable</span> com.example.overlay
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ğŸ” <strong>æŸ¥çœ‹ Overlay çŠ¶æ€ï¼š</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ cmd overlay list
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ğŸ›  <strong>ç¦ç”¨ Overlayï¼š</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ cmd overlay disable com.example.overlay
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="java-ä»£ç å¯ç”¨-ç¦ç”¨-overlay" tabindex="-1"><a class="header-anchor" href="#java-ä»£ç å¯ç”¨-ç¦ç”¨-overlay" aria-hidden="true">#</a> <strong>Java ä»£ç å¯ç”¨/ç¦ç”¨ Overlay</strong></h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">OverlayManager</span> overlayManager <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">OverlayManager</span><span class="token punctuation">)</span> <span class="token function">getSystemService</span><span class="token punctuation">(</span><span class="token class-name">Context</span><span class="token punctuation">.</span><span class="token constant">OVERLAY_SERVICE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
overlayManager<span class="token punctuation">.</span><span class="token function">setEnabled</span><span class="token punctuation">(</span><span class="token string">&quot;com.example.overlay&quot;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å¯ç”¨</span>
overlayManager<span class="token punctuation">.</span><span class="token function">setEnabled</span><span class="token punctuation">(</span><span class="token string">&quot;com.example.overlay&quot;</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ç¦ç”¨</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-æ–°å»º-xxxoverlay-ç›®å½•-åˆ›å»º-android-mk" tabindex="-1"><a class="header-anchor" href="#_1-æ–°å»º-xxxoverlay-ç›®å½•-åˆ›å»º-android-mk" aria-hidden="true">#</a> 1.æ–°å»º xxxOverlay ç›®å½•ï¼Œåˆ›å»º Android.mk</h3><p>æ–°å»º TestOverlay ç›®å½•ï¼Œåœ¨ç›®å½•ä¸‹åˆ›å»º Android.mk ï¼Œ</p><p>å†™å…¥è¿™äº›å†…å®¹ï¼Œ</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>LOCAL_PATH :<span class="token operator">=</span> <span class="token variable"><span class="token variable">$(</span>call my-dir<span class="token variable">)</span></span>

package_name :<span class="token operator">=</span> com.zeasn.ru_toptech
customer_overlay :<span class="token operator">=</span> vendor/toptech/.build/overlay
include <span class="token variable"><span class="token variable">$(</span>CLEAR_VARS<span class="token variable">)</span></span>

LOCAL_IS_RUNTIME_RESOURCE_OVERLAY :<span class="token operator">=</span> <span class="token boolean">true</span>
LOCAL_PACKAGE_NAME :<span class="token operator">=</span> <span class="token variable"><span class="token variable">$(</span>package_name<span class="token variable">)</span></span>.overlay
LOCAL_CERTIFICATE :<span class="token operator">=</span> platform
LOCAL_MODULE_PATH :<span class="token operator">=</span> <span class="token variable"><span class="token variable">$(</span>TARGET_OUT_VENDOR<span class="token variable">)</span></span>/overlay
LOCAL_RESOURCE_DIR :<span class="token operator">=</span>
ifeq <span class="token punctuation">(</span><span class="token variable"><span class="token variable">$(</span>shell <span class="token builtin class-name">test</span> <span class="token parameter variable">-e</span> <span class="token punctuation">$(</span>customer_overlay<span class="token punctuation">)</span>/<span class="token punctuation">$(</span>package_name<span class="token punctuation">)</span>/res <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">echo</span> <span class="token function">yes</span><span class="token variable">)</span></span>,yes<span class="token punctuation">)</span>
LOCAL_RESOURCE_DIR <span class="token operator">+=</span> <span class="token variable"><span class="token variable">$(</span>customer_overlay<span class="token variable">)</span></span>/<span class="token variable"><span class="token variable">$(</span>package_name<span class="token variable">)</span></span>/res
endif
LOCAL_RESOURCE_DIR <span class="token operator">+=</span> <span class="token variable"><span class="token variable">$(</span>LOCAL_PATH<span class="token variable">)</span></span>/res
LOCAL_AAPT_INCLUDE_ALL_RESOURCES :<span class="token operator">=</span> <span class="token boolean">true</span>
LOCAL_SDK_VERSION :<span class="token operator">=</span> system_current
LOCAL_AAPT_FLAGS <span class="token operator">+=</span> --auto-add-overlay
include <span class="token variable"><span class="token variable">$(</span>BUILD_PACKAGE<span class="token variable">)</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>LOCAL_CERTIFICATE å¯ä»¥å†™ shared ã€platform ï¼Œå–å†³äºå¯¹ç­¾åçš„è¦æ±‚ã€‚</p><p>LOCAL_MODULE_PATH := $(TARGET_OUT_VENDOR)/overlay ï¼Œè¯´æ˜ç¼–è¯‘åç”Ÿæˆçš„ apk è·¯å¾„åœ¨ vendor/overlay/com.zeasn.ru_toptech.overlay.apk ã€‚è¿™ä¸ªè·¯å¾„å¯ä»¥æ ¹æ®ä¸åŒæ–¹æ¡ˆè¿›è¡Œè°ƒæ•´ã€‚</p><h3 id="_2-åˆ›å»º-androidmanifest-xml" tabindex="-1"><a class="header-anchor" href="#_2-åˆ›å»º-androidmanifest-xml" aria-hidden="true">#</a> 2.åˆ›å»º AndroidManifest.xml</h3><p>åˆ›å»º AndroidManifest.xml ï¼Œå†™å…¥</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>manifest</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/apk/res/android<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.zeasn.ru_toptech.overlay<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>versionCode</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>versionName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1.0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>overlay</span>
        <span class="token attr-name"><span class="token namespace">android:</span>priority</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>targetPackage</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.zeasn.ru_toptech<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>isStatic</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>manifest</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>package=â€œcom.zeasn.ru_toptech.overlayâ€ æ˜¯åé¢ç¼–è¯‘ç”Ÿæˆçš„ TestOverlay.apk çš„åŒ…åã€‚</p><p>targetPackage æ˜¯ç›®æ ‡ apk çš„åŒ…åã€‚</p><h3 id="_3-æ”¾å…¥èµ„æºæ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#_3-æ”¾å…¥èµ„æºæ–‡ä»¶" aria-hidden="true">#</a> 3.æ”¾å…¥èµ„æºæ–‡ä»¶</h3><p>åˆ›å»º xxxOverlay/res/ ç›®å½•ï¼Œæ”¾å…¥å¯¹åº”çš„æ–‡ä»¶å³å¯ï¼Œç›®å½•æœºæ„å¦‚ apk æºç ç›®å½•ç»“æ„æ˜¯ä¸€æ ·çš„ã€‚</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>xxxOverlay/res/values/strings.xml
xxxOverlay/res/values-fa/strings.xml
xxxOverlay/res/drawable-hdpi/pic1.png
xxxOverlay/res/mipmap-hdpi/mip1.png
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>éœ€è¦ç•™æ„ï¼Œå³ä½¿åªæ˜¯æƒ³æ›¿æ¢ values-fa/strings.xml é‡Œçš„å­—ç¬¦ä¸²ï¼Œvalues/strings.xml é‡Œä¹Ÿè¦åŠ ä¸Šå¯¹åº”çš„å­—ç¬¦ä¸²ï¼Œè¦ä¸ç„¶ä¼šæ›¿æ¢ä¸æˆåŠŸã€‚</p><h3 id="_4-ç¼–è¯‘" tabindex="-1"><a class="header-anchor" href="#_4-ç¼–è¯‘" aria-hidden="true">#</a> 4.ç¼–è¯‘</h3><p>ä¿®æ”¹ device/xxx/yyy/device.mk ï¼ŒæŠŠ xxxOverlay åŠ å…¥ç¼–è¯‘ï¼Œ</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>PRODUCT_PACKAGES <span class="token operator">+=</span> <span class="token punctuation">\\</span>FileManagerOverlay <span class="token punctuation">\\</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å•ç¼–å¾—åˆ° xxxOverlay.apk , push åˆ°æœºå™¨ä¸ŠéªŒè¯å³å¯ã€‚</p><h2 id="é™æ€-overlay-vs-åŠ¨æ€-overlay-å¯¹æ¯”" tabindex="-1"><a class="header-anchor" href="#é™æ€-overlay-vs-åŠ¨æ€-overlay-å¯¹æ¯”" aria-hidden="true">#</a> <strong>é™æ€ Overlay vs åŠ¨æ€ Overlay å¯¹æ¯”</strong></h2><table><thead><tr><th>å¯¹æ¯”é¡¹</th><th>é™æ€ Overlay</th><th>åŠ¨æ€ Overlay</th></tr></thead><tbody><tr><td><strong>æ˜¯å¦æ”¯æŒè¿è¡Œæ—¶ä¿®æ”¹</strong></td><td>âŒ éœ€è¦é‡å¯</td><td>âœ… è¿è¡Œæ—¶å¯åˆ‡æ¢</td></tr><tr><td><strong>æ˜¯å¦éœ€è¦ /system æƒé™</strong></td><td>âœ… éœ€è¦</td><td>âŒ ä¸éœ€è¦</td></tr><tr><td><strong>é€‚ç”¨åœºæ™¯</strong></td><td>ROM çº§åˆ«ä¿®æ”¹ï¼ˆå¦‚ SystemUIã€Settingsï¼‰</td><td>è¿è¡Œæ—¶ä¿®æ”¹ï¼ˆå¦‚æ·±è‰²æ¨¡å¼ã€ä¸»é¢˜åˆ‡æ¢ï¼‰</td></tr><tr><td><strong>ç”Ÿæ•ˆæ–¹å¼</strong></td><td>ç¼–è¯‘æ—¶å†³å®š</td><td>è¿è¡Œæ—¶å†³å®š</td></tr></tbody></table><h2 id="æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#æ€»ç»“" aria-hidden="true">#</a> æ€»ç»“</h2><ol><li><strong>é™æ€ Overlay</strong> é€‚åˆ <strong>ä¿®æ”¹ SystemUIã€Settings ç­‰ç³»ç»Ÿçº§èµ„æº</strong>ï¼Œéœ€è¦ <strong>AOSP ç¼–è¯‘æ”¯æŒ</strong>ã€‚</li><li><strong>åŠ¨æ€ Overlay</strong> é€‚åˆ <strong>è¿è¡Œæ—¶åˆ‡æ¢ä¸»é¢˜/æ ·å¼</strong>ï¼Œæ— éœ€é‡å¯ï¼Œç›´æ¥ <code>cmd overlay</code> æ§åˆ¶ã€‚</li><li><strong>å‚å•† ROM é€‚é…</strong> é€šå¸¸ç»“åˆ <strong>é™æ€ Overlay</strong>ï¼ˆç”¨äº ROM å®šåˆ¶ï¼‰+ <strong>åŠ¨æ€ Overlay</strong>ï¼ˆç”¨äºä¸ªæ€§åŒ–åˆ‡æ¢ï¼‰ã€‚</li><li><strong>OverlayManager API</strong> å¯ä»¥åœ¨ä»£ç ä¸­ <strong>åŠ¨æ€åˆ‡æ¢ Overlay</strong>ï¼Œå®ç° UI é€‚é…æ–¹æ¡ˆã€‚</li></ol>`,62),o=[l];function r(p,i){return s(),n("div",null,o)}const d=a(t,[["render",r],["__file","Android-Overlayjizhi.html.vue"]]);export{d as default};
