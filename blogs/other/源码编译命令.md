---
title: 源码编译命令
date: 2025-03-03
tags:
 - android
categories: 
 - android
sticky: 
   true
---

## 1. allmod

- **功能**：列出 Android 源码树中所有可用的编译模块。这些模块可以是应用程序、库、测试用例等。

```shell
$ allmod
ACameraNdkVendorTest
ACameraNdkVendorTest_32
AImageReaderWindowHandleTest
AImageReaderWindowHandleTest_32
AMRWBEncTest
AMRWBEncTest_32
ANGLE
ATT_profile1.xml
ATT_profile2.xml
ATT_profile3.xml
ATT_profile4.xml
ATT_profile5.xml
ATT_profile6.xml
ATT_profiles.xml
AVCUtilsUnitTest
AVCUtilsUnitTest_32
AaptAutoVersionTest
AaptBasicTest
AaptSymlinkTest
# ... 59000+ in total
```

## 2. gomod

- **功能**：切换到包含指定模块（如 `CarService`）的源码目录。

```shell
$ gomod CarService
```

## 3. pathmod

- **功能**：获取指定模块（如 `CarService`）的源码所在目录。

```shell
$ pathmod CarService
/android/packages/services/Car/service
```

## 4. outmod

- **功能**：获取指定模块（如 `CarService`）编译后的输出文件的位置。这些输出文件通常包括 APK、共享库、优化后的字节码文件等。

```shell
$ outmod CarService
/android/out/target/product/proj/system/priv-app/CarService/CarService.apk
/android/out/target/product/proj/system/priv-app/CarService/lib/arm64/libcarservicejni.so
/android/out/target/product/proj/system/priv-app/CarService/oat/arm64/CarService.odex
/android/out/target/product/proj/system/priv-app/CarService/oat/arm64/CarService.vdex
```

## 5. godir

 **功能**：切换到包含指定文件（如 `one_source_file_name.cpp`）的目录。

```shell
$ godir one_source_file_name.cpp
```

## 6. dirmods

- **功能**：获取指定目录中定义的所有编译模块。

## 7. refreshmod

- **功能**：刷新 `allmod`、`gomod`、`pathmod`、`outmod` 和 `installmod` 命令使用的模块列表。

## 8. sepgrep

- **功能**：在所有本地的 `sepolicy` 文件中进行全局搜索。`sepolicy`（SELinux Policy）文件用于定义 Android 系统的安全策略。

## 9. cgrep

- **功能**：在所有本地的 C/C++ 文件中进行全局搜索。

## 10. mgre

- **功能**：在所有本地的 `Makefile` 和 `.bp`（Blueprints）文件中进行全局搜索。`Makefile` 用于传统的 Make 构建系统，而 `.bp` 文件用于 Soong 构建系统。

## 11. syswrite

- **功能**：将系统分区（如 `system.img`）重新挂载为可写模式，如果需要则重启设备。



本文转自 [https://blog.csdn.net/yinminsumeng/article/details/143112163](https://blog.csdn.net/yinminsumeng/article/details/143112163)，如有侵权，请联系删除。