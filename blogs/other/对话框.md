---
title: android 对话框
date: 2022-12-10
tags:
 - android
categories: 
 - android
sticky: 
   true
---

## 文本提示对话框

```java
public static void showDialog(Context context ,String title, String message) {
		AlertDialog dialog = new AlertDialog.Builder(context, AlertDialog.THEME_DEVICE_DEFAULT_LIGHT)
				.setTitle(title).setMessage(message).setCancelable(true).setPositiveButton("OK", null).create();
		dialog.show();
		dialog.getButton(DialogInterface.BUTTON_POSITIVE).requestFocus();
	}
```

## 单选对话框

```java
AlertDialog.Builder b = new AlertDialog.Builder(this);
b.setTitle("单选对话框");
/*b.setSingleChoiceItems第一个参数为单选按钮组，第二个为默认选择第几个，第三个参数为监听事件*/
b.setSingleChoiceItems(new String[]{"1", "2", "3", "4", "5", "6"}, 3, new DialogInterface.OnClickListener() {
    @Override
    public void onClick(DialogInterface x, int which) {//   which为当前选中的位置
        which+=1;
        Toast.makeText(getApplicationContext(), "选择了第"+which+"个", Toast.LENGTH_SHORT).show();//打印
    }
});
b.setPositiveButton("确定", null);/*设置确定按钮，需要重写 DialogInterface.OnClickListener()的onClick方法这里我省略*/
b.show();
```

## 复选对话框

```java
AlertDialog.Builder b = new AlertDialog.Builder(this);
final String items[]=new String[]{"音乐", "画画", "游泳", "电影", "游戏", "运动"};
boolean[] checks=new boolean[]{false, false, false, false, false, false};
b.setTitle("选择你喜欢的项目：");
/*b.setMultiChoiceItems第一个参数为复选按钮组，第二个为是否默认选中，对应复选按钮组，true为默认选中，第三个为监听事件*/
b.setMultiChoiceItems(items, checks, new DialogInterface.OnMultiChoiceClickListener(){
    @Override
    public void onClick(DialogInterface dialog, int which, boolean isChecked) {
        Toast.makeText(getApplicationContext(), "你选择了"+items[which], Toast.LENGTH_SHORT).show();
    }
});
b.setPositiveButton("确定", null);
b.show();//显示对话框
```

## 加载对话框

```java
ProgressDialog pg = new ProgressDialog(this);
pg.setTitle("加载.");
pg.setMessage("请稍等...");
pg.show();
```

## 进度条对话框

```java
ProgressDialog pg = new ProgressDialog(this);
pg.setProgressStyle(ProgressDialog.STYLE_HORIZONTAL);//声明对话框的样式，进度条
pg.setMax(100);//设置进度条的最大值
pg.setTitle("加载.");//设置标题
pg.setMessage("请稍等...");//设置提示内容
pg.show();//显示对话框
pg.setProgress(60);//设置当前进度为60
```

**动态进度条**

```JAVA
final ProgressDialog pg = new ProgressDialog(this);
pg.setProgressStyle(ProgressDialog.STYLE_HORIZONTAL);
pg.setMax(100);
pg.setTitle("加载.");
pg.setMessage("请稍等...");
pg.show();
new Thread(() -> {
    for(int i=0;i<=100;i++){
        try {
            Thread.sleep(100);
        } catch (InterruptedException e) {
            e.printStackTrace();
        }
        pg.setProgress(i);
    }

}).start();
```